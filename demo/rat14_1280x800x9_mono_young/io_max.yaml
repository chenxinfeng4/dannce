# cd /home/liying_lab/chenxinfeng/DATA/dannce/demo/rat14_1280x800x9_mono_young
# python /home/liying_lab/chenxinfeng/.conda/envs/mmdet/bin/dannce-train ../../configs/dannce_rat14_1280x800x9_max_config.yaml 
# python -m dannce.cli_train ../../configs/dannce_rat14_1280x800x9_max_config.yaml 
### VALIDATION ###
num_validation_per_exp: 2

# During prediction, will look for the last epoch weights saved to ./COM/train_results/. To load in a different weights file, add the path here
#com_predict_weights: ./COM/train_results/weights.250-0.00036.hdf5

### Dannce ###
# path to folder where DANNCE weights and logs will be saved
dannce_train_dir: ./DANNCE/train_results/MAX/
dannce_predict_dir: ./DANNCE/predict_results/

# During prediction, will look for the last epoch weights saved to ./DANNCE/train_results/. To load in a different weights file, add the path here
# Note that this must be a FULL MODEL file, not just weights.
dannce_predict_model: ./DANNCE/train_results/MAX/latest.hdf5
# dannce_predict_model: ./DANNCE/train_results/AVG/weights.checkpoint.epoch250.val_loss40.30782.hdf5

### Train load checkpoint ###
train_mode: continued
# train_mode: new
# dannce_finetune_weights: /home/liying_lab/chenxinfeng/DATA/dannce/demo/rat14_800x600x6_mono_shank3_blackwhite/DANNCE/train_results/MAX/fullmodel_weights/fullmodel_end.hdf5
dannce_finetune_weights: ./DANNCE/train_results/MAX/latest.hdf5
# dannce_finetune_weights: ./DANNCE/train_results/MAX/fullmodel_weights/fullmodel_end.hdf5
# dannce_finetune_weights: /home/liying_lab/chenxinfeng/DATA/dann ce/demo/rat14_1280x800x9_mono/DANNCE/train_results/MAX/epoch50.hdf5_initial_young

### Train Augmentation ###
augment_continuous_rotation: False   #rotate the voxel
augment_rotation_val: 15             #rotate the voxel

channel_combo: False     # ['random' | False], shuffle the views
n_rand_views: null       # choose n1 views out of n2 views

### Train Data ###
exp:
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-10-13_SHANK3_2_voxel_re_com3d_vol140_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-10-13_SHANK3_2_voxel_re_com3d_vol160_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-10-13_SHANK3_voxel_re_com3d_vol150_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-10-13_SHANK3_voxel_re_com3d_vol170_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-16_2_TPH2_voxel_re_com3d_vol160_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-16_2_TPH2_voxel_re_com3d_vol180_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-16_3_TPH2_voxel_re_com3d_vol160_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-16_3_TPH2_voxel_re_com3d_vol180_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-16_TPH2_voxel_re_com3d_vol160_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-16_TPH2_voxel_re_com3d_vol180_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-23_2_TPH2_voxel_re_com3d_vol160_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-23_2_TPH2_voxel_re_com3d_vol180_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-23_3_TPH2_voxel_re_com3d_vol170_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-23_3_TPH2_voxel_re_com3d_vol190_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-23_TPH2_voxel_re_com3d_vol170_anno_dannce.pkl'
    - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-6-23_TPH2_voxel_re_com3d_vol190_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data_metric/re_com3d/2022-10-10Tr_mask_re_com3d_vol150_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data_metric/re_com3d/2022-10-10Tr_mask_re_com3d_vol170_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data_metric/re_com3d/2022-10-13Temask_re_com3d_vol150_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data_metric/re_com3d/2022-10-13Temask_re_com3d_vol170_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data_metric/re_com3d/2022-10-13Tr_mask_re_com3d_vol150_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data_metric/re_com3d/2022-10-13Tr_mask_re_com3d_vol170_anno_dannce.pkl'
    # - label3d_file: /home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-04-06_voxel_re_com3d_vol140_anno_dannce.pkl
    # - label3d_file: /home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-04-06_voxel_re_com3d_vol170_anno_dannce.pkl
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-4-25_wt_2_voxel_re_com3d_vol160_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-4-25_wt_2_voxel_re_com3d_vol190_anno_dannce.pkl'
    - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-4-25_wt_voxel_re_com3d_vol170_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2022-4-25_wt_voxel_re_com3d_vol200_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-05-07_press_voxel_re_com3d_vol190_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-05-07_press_voxel_re_com3d_vol220_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-05-13_press_voxel_re_com3d_vol210_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-05-13_press_voxel_re_com3d_vol240_anno_dannce.pkl'
    - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-6-25_WT_voxel_re_com3d_vol250_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-6-25_WT_voxel_re_com3d_vol280_anno_dannce.pkl'
    #- label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-6-25_2_WT_voxel_re_com3d_vol250_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-6-25_2_WT_voxel_re_com3d_vol280_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-9-19_zyq_08_voxel_re_com3d_vol160_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-9-19_zyq_08_voxel_re_com3d_vol190_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-9-19_zyq_09_voxel_re_com3d_vol180_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2023-9-19_zyq_09_voxel_re_com3d_vol210_anno_dannce.pkl'
    - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/w_rat_1280x800x9_2023-3-13_Photometry_voxel_re_com3d_vol150_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/w_rat_1280x800x9_2023-3-13_Photometry_voxel_re_com3d_vol180_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/w_rat_1280x800x9_2023-3-14_Photometry_voxel_re_com3d_vol140_anno_dannce.pkl'
    # - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/w_rat_1280x800x9_2023-3-14_Photometry_voxel_re_com3d_vol170_anno_dannce.pkl'
    - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2024-11-27_photometry_voxel_re_com3d_vol220_anno_dannce.pkl'
    - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data/re_com3d/bw_rat_1280x800x9_2024-11-27_photometry_voxel_re_com3d_vol250_anno_dannce.pkl'




predict_exp:
    - label3d_file: '/home/liying_lab/chenxinfeng/DATA/dannce/data_metric/re_com3d/2022-10-13Tr_mask_re_com3d_vol170_anno_dannce.pkl' #no use


predict_mode: torch

epochs: 141
mono: True
vol_size: 165
lr: 0.001

raw_im_h: 800
raw_im_w: 1280
nvox: 64

### Video prediction ###
max_eval_batch: null
#null #[number | null]


